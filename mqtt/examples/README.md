# MQTT å®Ÿç”¨ã‚µãƒ³ãƒ—ãƒ«é›†

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§æ´»ç”¨ã§ãã‚‹MQTTã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Œå…¨ãªã‚µãƒ³ãƒ—ãƒ«ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ“ ã‚µãƒ³ãƒ—ãƒ«ä¸€è¦§

### 1. Smart Home System
**ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**: [smart-home-system](smart-home-system/)

ã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ ã®å®Œå…¨ãªå®Ÿè£…ä¾‹ï¼š
- è¤‡æ•°ã®ã‚¹ãƒãƒ¼ãƒˆãƒ‡ãƒã‚¤ã‚¹ï¼ˆç…§æ˜ã€æ¸©åº¦ã‚»ãƒ³ã‚µãƒ¼ã€ã‚¹ãƒãƒ¼ãƒˆãƒ—ãƒ©ã‚°ï¼‰
- Web ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- ãƒ¢ãƒã‚¤ãƒ«é€šçŸ¥
- è‡ªå‹•åŒ–ãƒ«ãƒ¼ãƒ«

**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: Node.js, Express, Vue.js, MQTT.js

### 2. Industrial IoT Monitor
**ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**: [industrial-iot-monitor](industrial-iot-monitor/)

å·¥å ´è¨­å‚™ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ï¼š
- PLC ãƒ‡ãƒ¼ã‚¿åé›†
- äºˆçŸ¥ä¿å…¨ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¢ãƒ©ãƒ¼ãƒˆ
- ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ

**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: Python, FastAPI, InfluxDB, Grafana

### 3. Fleet Management
**ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**: [fleet-management](fleet-management/)

è»Šä¸¡ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼š
- GPS ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°
- ç‡ƒæ–™ç›£è¦–
- é‹è»¢è€…è¡Œå‹•åˆ†æ
- ãƒ«ãƒ¼ãƒˆæœ€é©åŒ–

**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: Node.js, MongoDB, React, Leaflet

### 4. Smart Agriculture
**ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**: [smart-agriculture](smart-agriculture/)

ã‚¹ãƒãƒ¼ãƒˆè¾²æ¥­ã‚·ã‚¹ãƒ†ãƒ ï¼š
- åœŸå£Œã‚»ãƒ³ã‚µãƒ¼
- è‡ªå‹•çŒæ¼‘åˆ¶å¾¡
- æ°—è±¡ãƒ‡ãƒ¼ã‚¿çµ±åˆ
- åç©«äºˆæ¸¬

**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: Python, Django, PostgreSQL, Celery

### 5. Energy Management
**ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**: [energy-management](energy-management/)

ã‚¨ãƒãƒ«ã‚®ãƒ¼ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼š
- ã‚¹ãƒãƒ¼ãƒˆãƒ¡ãƒ¼ã‚¿ãƒ¼é€£æº
- é›»åŠ›éœ€è¦äºˆæ¸¬
- å¤ªé™½å…‰ç™ºé›»æœ€é©åŒ–
- ã‚³ã‚¹ãƒˆåˆ†æ

**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: Python, TimescaleDB, Plotly, MQTT

## ğŸš€ å„ã‚µãƒ³ãƒ—ãƒ«ã®ç‰¹å¾´

| ã‚µãƒ³ãƒ—ãƒ« | è¤‡é›‘åº¦ | æ¨å¥¨ãƒ¬ãƒ™ãƒ« | ä¸»è¦ãªå­¦ç¿’ãƒã‚¤ãƒ³ãƒˆ |
|----------|--------|------------|-------------------|
| Smart Home | â˜…â˜…â˜† | åˆç´š-ä¸­ç´š | åŸºæœ¬çš„ãªPub/Subã€Webãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ |
| Industrial IoT | â˜…â˜…â˜… | ä¸­ç´š-ä¸Šç´š | é«˜å¯ç”¨æ€§ã€ãƒ‡ãƒ¼ã‚¿åˆ†æã€ç›£è¦– |
| Fleet Management | â˜…â˜…â˜… | ä¸­ç´š-ä¸Šç´š | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä½ç½®æƒ…å ±ã€ã‚¹ã‚±ãƒ¼ãƒ« |
| Smart Agriculture | â˜…â˜…â˜† | åˆç´š-ä¸­ç´š | ã‚»ãƒ³ã‚µãƒ¼çµ±åˆã€è‡ªå‹•åˆ¶å¾¡ |
| Energy Management | â˜…â˜…â˜… | ä¸­ç´š-ä¸Šç´š | æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã€äºˆæ¸¬åˆ†æ |

## ğŸ”§ å…±é€šã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶
- Docker & Docker Compose
- Node.js 18+ ã¾ãŸã¯ Python 3.9+
- Git

### MQTT ãƒ–ãƒ­ãƒ¼ã‚«ãƒ¼ã®èµ·å‹•
```bash
# EMQX (æ¨å¥¨ - ç®¡ç†ç”»é¢ä»˜ã)
docker run -d --name emqx \
  -p 1883:1883 \
  -p 8083:8083 \
  -p 8084:8084 \
  -p 8883:8883 \
  -p 18083:18083 \
  emqx/emqx:latest

# Mosquitto (è»½é‡)
docker run -d --name mosquitto \
  -p 1883:1883 \
  -p 9001:9001 \
  eclipse-mosquitto:2.0
```

### ç®¡ç†ãƒ„ãƒ¼ãƒ«ã®èµ·å‹•
```bash
# MQTT Explorer (GUI ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ)
# http://mqtt-explorer.com/ ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

# ã¾ãŸã¯ã€Node-RED (ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°)
docker run -it -p 1880:1880 --name nodered nodered/node-red
```

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### 1. ã‚µãƒ³ãƒ—ãƒ«ã®é¸æŠ
èˆˆå‘³ã®ã‚ã‚‹ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ï¼š
```bash
cd smart-home-system
```

### 2. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨å®Ÿè¡Œ
å„ã‚µãƒ³ãƒ—ãƒ«ã«ã¯è©³ç´°ãª README.md ãŒã‚ã‚Šã¾ã™ï¼š
```bash
# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install
# ã¾ãŸã¯
pip install -r requirements.txt

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•
npm start
# ã¾ãŸã¯  
python app.py
```

### 3. å‹•ä½œç¢ºèª
- ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹
- MQTTãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€å—ä¿¡ã‚’ç¢ºèª
- å„æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆ

## ğŸ¯ å­¦ç¿’ã®é€²ã‚æ–¹

### åˆå¿ƒè€…ã®æ–¹
1. **Smart Home System** ã‹ã‚‰é–‹å§‹
2. åŸºæœ¬çš„ãªPub/Subãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç†è§£
3. Webãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¨ã®çµ±åˆã‚’å­¦ç¿’

### ä¸­ç´šè€…ã®æ–¹
1. **Smart Agriculture** ã§åˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ ã‚’å­¦ç¿’
2. **Fleet Management** ã§ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã‚’ç†è§£
3. ç‹¬è‡ªã®æ”¹è‰¯ã‚’åŠ ãˆã¦ã¿ã‚‹

### ä¸Šç´šè€…ã®æ–¹
1. **Industrial IoT Monitor** ã§é«˜å¯ç”¨æ€§ã‚’å­¦ç¿’
2. **Energy Management** ã§åˆ†ææ©Ÿèƒ½ã‚’ç†è§£
3. æœ¬æ ¼çš„ãªãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒã‚’æ§‹ç¯‰

## ğŸ” ã‚³ãƒ¼ãƒ‰è§£èª¬

å„ã‚µãƒ³ãƒ—ãƒ«ã«ã¯ä»¥ä¸‹ã®è§£èª¬ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼š

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³
ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®æ§‹æˆã¨å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é–¢ä¿‚

### é‡è¦ãªã‚³ãƒ¼ãƒ‰éƒ¨åˆ†
```javascript
// ä¾‹ï¼šãƒ‡ãƒã‚¤ã‚¹èªè¨¼ã®å®Ÿè£…
const authenticateDevice = (clientId, username, password) => {
    // ãƒ‡ãƒã‚¤ã‚¹èªè¨¼ãƒ­ã‚¸ãƒƒã‚¯
    return deviceRegistry.validate(clientId, username, password);
};
```

### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ‰‹é †
æœ¬ç•ªç’°å¢ƒã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•ã¨æ³¨æ„äº‹é …

### é‹ç”¨ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
ç›£è¦–ã€ãƒ­ã‚°ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãªã©ã®å®Ÿé‹ç”¨ãƒã‚¦ãƒã‚¦

## ğŸ›  ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚¬ã‚¤ãƒ‰

### è¨­å®šã®å¤‰æ›´
```javascript
// config/default.js
module.exports = {
    mqtt: {
        broker: 'mqtt://localhost:1883',
        options: {
            keepalive: 60,
            reschedulePings: false,
            protocolId: 'MQIsdp',
            protocolVersion: 3,
            reconnectPeriod: 1000
        }
    },
    database: {
        url: 'mongodb://localhost:27017/iot_system'
    }
};
```

### æ–°ã—ã„ãƒ‡ãƒã‚¤ã‚¹ã‚¿ã‚¤ãƒ—ã®è¿½åŠ 
```javascript
// devices/custom-sensor.js
class CustomSensor extends BaseDevice {
    constructor(config) {
        super(config);
        this.sensorType = 'custom';
    }
    
    generateData() {
        return {
            customValue: Math.random() * 100,
            timestamp: new Date().toISOString()
        };
    }
}
```

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™

å„ã‚µãƒ³ãƒ—ãƒ«ã«ã¯ä»¥ä¸‹ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼š

- **ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ**: ç§’é–“ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†æ•°
- **ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·**: ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰é…å»¶
- **ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡**: CPUã€ãƒ¡ãƒ¢ãƒªã€ãƒ‡ã‚£ã‚¹ã‚¯
- **å¯ç”¨æ€§**: ã‚¢ãƒƒãƒ—ã‚¿ã‚¤ãƒ ã€ã‚¨ãƒ©ãƒ¼ç‡

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

### èªè¨¼ãƒ»èªå¯
- JWT ãƒˆãƒ¼ã‚¯ãƒ³èªè¨¼
- ãƒ‡ãƒã‚¤ã‚¹è¨¼æ˜æ›¸ç®¡ç†  
- ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡

### é€šä¿¡ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- TLS/SSL æš—å·åŒ–
- ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰æš—å·åŒ–
- ä¾µå…¥æ¤œçŸ¥

### ãƒ‡ãƒ¼ã‚¿ä¿è­·
- å€‹äººæƒ…å ±ã®åŒ¿ååŒ–
- ãƒ‡ãƒ¼ã‚¿æš—å·åŒ–
- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æš—å·åŒ–

## ğŸŒ æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤

### ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ‡ãƒ—ãƒ­ã‚¤
```yaml
# docker-compose.prod.yml
version: '3.8'
services:
  mqtt-app:
    image: my-iot-app:latest
    environment:
      - NODE_ENV=production
      - MQTT_BROKER=ssl://production-broker:8883
    deploy:
      replicas: 3
      resources:
        limits:
          cpus: '0.5'
          memory: 512M
```

### ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°
- Prometheus + Grafana
- ELK Stack
- Jaeger (åˆ†æ•£ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°)

### CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
```yaml
# .github/workflows/deploy.yml
name: Deploy IoT Application
on:
  push:
    branches: [main]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Run tests
        run: npm test
      - name: Deploy
        run: ./deploy.sh
```

## ğŸ“š å‚è€ƒè³‡æ–™

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [MQTT 5.0 Specification](https://docs.oasis-open.org/mqtt/mqtt/v5.0/)
- [Node.js MQTT Client](https://github.com/mqttjs/MQTT.js)
- [Python Paho MQTT](https://www.eclipse.org/paho/clients/python/)

### ãƒ„ãƒ¼ãƒ«ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- [MQTT Explorer](http://mqtt-explorer.com/)
- [Node-RED](https://nodered.org/)
- [Grafana](https://grafana.com/)

### ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£
- [MQTT.org Community](https://mqtt.org/community)
- [Eclipse IoT](https://iot.eclipse.org/)
- [Stack Overflow - MQTT](https://stackoverflow.com/questions/tagged/mqtt)

---

**å§‹ã‚ã‚‹æº–å‚™ã¯ã§ãã¾ã—ãŸã‹ï¼Ÿ** èˆˆå‘³ã®ã‚ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚’é¸ã‚“ã§ã€å®Ÿéš›ã®IoTã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã‚’ä½“é¨“ã—ã¦ãã ã•ã„ï¼